[
  {
    "path": "posts/2021-08-08-becvarhw5/",
    "title": "Homework 5",
    "description": "Bivariate Relationships, Modeling, and Functions",
    "author": [
      {
        "name": "Kristina Becvar",
        "url": "http://umass.edu/sbs/dacss"
      }
    ],
    "date": "2021-08-08",
    "categories": [],
    "contents": "\r\nFor this assignment, I will be describing variables from the EPA Environmental Justice Screening Tool data set (EJScreen)\r\nReading in the data and turning it into a tibble\r\n\r\n\r\nejscreen <- read.delim(\"../../_data/EJSCREEN_2020_IL.csv\", sep = \",\", header  = TRUE)\r\n\r\n\r\n\r\n\r\n\r\nejscreen.tidy <- as_tibble(ejscreen)\r\n\r\n\r\n\r\nCleaning & Renaming Variables - From HW2\r\nIncluding some interim steps, the result is a new tibble named “ejscreen.clean” containing only the 6 variables I’m working with.\r\n\r\n\r\noptions(scipen = 999)\r\n(ejscreen.clean <- ejscreen.tidy %>% \r\n   rename(superfund.area = PNPL,\r\n          rmp.area = PRMP,\r\n          tsdf.area = PTSDF,\r\n          census.region = ID,\r\n          population = ACSTOTPOP, \r\n          dem.index = VULEOPCT) %>% \r\n   select(superfund.area, rmp.area, tsdf.area,  census.region, population, dem.index))\r\n\r\n\r\n# A tibble: 9,691 x 6\r\n   superfund.area rmp.area tsdf.area census.region population\r\n            <dbl>    <dbl>     <dbl>         <dbl>      <int>\r\n 1         0.0436    2.79      31.2   170313000000       1964\r\n 2         0.0306    1.28       8.24  170312000000        968\r\n 3         0.0384    1.88      28.5   170318000000       1371\r\n 4         0.0532    4.81       9.31  170313000000       2031\r\n 5         0.0305    2.63       7.90  170312000000        576\r\n 6         0.0431    2.91      40.4   170313000000       2446\r\n 7         0.0398    2.72      28.7   170312000000       1181\r\n 8         0.0326    0.872     12.8   170312000000       2223\r\n 9         0.0350    2.22      20.9   170318000000        620\r\n10         0.0309    1.17       8.44  170312000000       1026\r\n   dem.index\r\n       <dbl>\r\n 1     0.239\r\n 2     0.373\r\n 3     0.272\r\n 4     0.728\r\n 5     0.248\r\n 6     0.491\r\n 7     0.536\r\n 8     0.530\r\n 9     0.161\r\n10     0.335\r\n# ... with 9,681 more rows\r\n\r\nSummarizing Variables\r\nI summarized and found the mean of the environmental variables- The mean value for superfund.area is 0.09851763, for rmp.area is 1.196261, and for tsdf.area is 4.087846, which helps me to determine where the values begin to indicate levels of risk that are higher or lower than the mean.\r\nI then summarized and found the mean of the demographic variable “dem.index”. The mean value for this variable is 0.3469023, which helps me to determine where the values begin to indicate levels of higher-risk populations within census regions.\r\nCombining Census Region Values\r\nI checked how many occurrences there are of the census region codes in this dataset, and can see that the values of the individual census blocks contained in a given census region could potentially be combined into fewer values and summarized.\r\n\r\n\r\nejscreen.mean <- ejscreen.clean %>%\r\n  group_by(census.region) %>%\r\n  summarise(mean.rmp = mean(rmp.area), \r\n            mean.superfund = mean(superfund.area),\r\n            mean.tsdf = mean(tsdf.area),\r\n            mean.demindex = mean(dem.index),\r\n            mean.population = mean(population))\r\nejscreen.mean\r\n\r\n\r\n# A tibble: 114 x 6\r\n   census.region mean.rmp mean.superfund mean.tsdf mean.demindex\r\n           <dbl>    <dbl>          <dbl>     <dbl>         <dbl>\r\n 1  170010000000    0.743         0.103     1.18           0.201\r\n 2  170040000000    0.909         0.0521    0.742          0.454\r\n 3  170060000000    0.363         0.0423    0.499          0.211\r\n 4  170070000000    1.37          0.516     1.22           0.296\r\n 5  170100000000    1.21          0.0225    0.0252         0.218\r\n 6  170120000000    0.753         0.149     0.219          0.209\r\n 7  170140000000    0.136         0.0254    0.0461         0.165\r\n 8  170160000000    0.582         0.0359    0.0568         0.179\r\n 9  170180000000    1.05          0.0130    0.0345         0.304\r\n10  170190000000    1.28          0.0752    2.23           0.342\r\n   mean.population\r\n             <dbl>\r\n 1           1089.\r\n 2            726.\r\n 3           1114.\r\n 4           1985.\r\n 5           1112.\r\n 6            902.\r\n 7            972.\r\n 8            809 \r\n 9            844.\r\n10           1396.\r\n# ... with 104 more rows\r\n\r\nMaking a Hypothesis About the Relationship Between Variables\r\nI have made a hypothesis that in census regions that have a higher demographic index (a higher proportion of low-income and minority persons) have a corresponding higher frequency of environmental risk areas in proximity compared to the general population.\r\nChecking the Pearson Correlation Coefficient of Each Relationship\r\nThis correlation matrix gives an overview of the correlations for all combinations of two variables, rounded to 2 decimals.\r\n\r\n\r\nround(cor(ejscreen.mean),\r\n  digits = 2 \r\n)\r\n\r\n\r\n                census.region mean.rmp mean.superfund mean.tsdf\r\ncensus.region            1.00    -0.17          -0.03     -0.23\r\nmean.rmp                -0.17     1.00           0.15      0.47\r\nmean.superfund          -0.03     0.15           1.00      0.11\r\nmean.tsdf               -0.23     0.47           0.11      1.00\r\nmean.demindex           -0.12     0.51           0.32      0.57\r\nmean.population         -0.05     0.18           0.09      0.22\r\n                mean.demindex mean.population\r\ncensus.region           -0.12           -0.05\r\nmean.rmp                 0.51            0.18\r\nmean.superfund           0.32            0.09\r\nmean.tsdf                0.57            0.22\r\nmean.demindex            1.00            0.11\r\nmean.population          0.11            1.00\r\n\r\nAnalyzing Pearson Correlation Coefficients\r\nAfter analyzing the Pearson correlations, there are some relationships with stronger positive linear relationships than others. Those moderately strong positive correlations (0.51 to 0.7) are:\r\nMean Demographic Index to Mean RMP Area Frequency\r\nMean Demographic Index to Mean TSDF Area Frequency\r\nThe weak positive correlations (0.3 to 0.5) are:\r\nMean Demographic Index to Mean Superfund Area Frequency\r\nMean TSDF Area Frequency to Mean RMP Area Frequency\r\nThe Null and Alternative Hypotheses for the Correlation Test are as Follows:\r\nH0: ρ=0 (meaning that there is no linear relationship between the two variables)\r\nH1: ρ≠0 (meaning that there is a linear relationship between the two variables)\r\nI used cor.test to determine the p-value to examine the relationships between the ejscreen mean demographic index score for a given census region and the mean number of environmental threats in those areas as measured by the mean count of these sites in the mean.rmp, mean.superfund and mean.tsdf variables.\r\n\r\n\r\ncor.test(x=ejscreen.mean$mean.demindex, y=ejscreen.mean$mean.tsdf,\r\n         alternative = c(\"two.sided\", \"less\", \"greater\"),\r\n         method = c(\"pearson\"),\r\n         exact = NULL, conf.level = 0.95)\r\n\r\n\r\n\r\n    Pearson's product-moment correlation\r\n\r\ndata:  ejscreen.mean$mean.demindex and ejscreen.mean$mean.tsdf\r\nt = 7.4, df = 112, p-value = 0.00000000002\r\nalternative hypothesis: true correlation is not equal to 0\r\n95 percent confidence interval:\r\n 0.4361 0.6855\r\nsample estimates:\r\n  cor \r\n0.574 \r\n\r\n\r\n\r\ncor.test(x=ejscreen.mean$mean.demindex, y=ejscreen.mean$mean.rmp,\r\n         alternative = c(\"two.sided\", \"less\", \"greater\"),\r\n         method = c(\"pearson\"),\r\n         exact = NULL, conf.level = 0.95)\r\n\r\n\r\n\r\n    Pearson's product-moment correlation\r\n\r\ndata:  ejscreen.mean$mean.demindex and ejscreen.mean$mean.rmp\r\nt = 6.3, df = 112, p-value = 0.000000006\r\nalternative hypothesis: true correlation is not equal to 0\r\n95 percent confidence interval:\r\n 0.3623 0.6361\r\nsample estimates:\r\n   cor \r\n0.5121 \r\n\r\n\r\n\r\ncor.test(x=ejscreen.mean$mean.demindex, y=ejscreen.mean$mean.superfund,\r\n         alternative = c(\"two.sided\", \"less\", \"greater\"),\r\n         method = c(\"pearson\"),\r\n         exact = NULL, conf.level = 0.95)\r\n\r\n\r\n\r\n    Pearson's product-moment correlation\r\n\r\ndata:  ejscreen.mean$mean.demindex and ejscreen.mean$mean.superfund\r\nt = 3.5, df = 112, p-value = 0.0006\r\nalternative hypothesis: true correlation is not equal to 0\r\n95 percent confidence interval:\r\n 0.1421 0.4739\r\nsample estimates:\r\n   cor \r\n0.3177 \r\n\r\nLooking at the P-Values of all Variable Correlations\r\nI found another way to look at the p-values of each relationship in my data set without having to run the cor.test for each one using the Hmisc package. This shows each p-value rounded to three decimals.\r\n\r\n\r\nlibrary(Hmisc)\r\nres <- rcorr(as.matrix(ejscreen.mean))\r\nround(res$P, 3)\r\n\r\n\r\n                census.region mean.rmp mean.superfund mean.tsdf\r\ncensus.region              NA    0.078          0.754     0.013\r\nmean.rmp                0.078       NA          0.102     0.000\r\nmean.superfund          0.754    0.102             NA     0.238\r\nmean.tsdf               0.013    0.000          0.238        NA\r\nmean.demindex           0.187    0.000          0.001     0.000\r\nmean.population         0.631    0.054          0.353     0.018\r\n                mean.demindex mean.population\r\ncensus.region           0.187           0.631\r\nmean.rmp                0.000           0.054\r\nmean.superfund          0.001           0.353\r\nmean.tsdf               0.000           0.018\r\nmean.demindex              NA           0.229\r\nmean.population         0.229              NA\r\n\r\nAnalyzing Correlations With P-Values Smaller Than the Significance Level of α=0.05\r\nAfter analyzing the matrix, it is clear that we do have some correlations with statistically significant correlations.\r\nP-value ≤ α: The correlation is statistically significant\r\nP-values for mean.rmp and mean.tsdf\r\nP-values for mean.population and mean.tsdf\r\nP-values for mean.demindex and mean.rmp, mean.superfund, and mean.tsdf\r\nP-value > α: All other non-categorical relationships\r\nExploring the Statistically Significant Relationships Visually\r\nAt first review of my initial statistical analysis of my hypothesis, it does seem that there are statistically significant, positive correlations between increasing demographic index ratings and the frequency of all three environmental risk variables I have examined.\r\nLooking further, the strongest relationships are between the demographic index ratings and the frequency of TSDF sites and RMP sites within 5 km of the census region. There is a significant but weaker relationship between the demographic index ratings and the frequency of the Superfund sites within 5 km of the census region.\r\nThis could be explained logically by the nature of the environmental risk; Superfund sites are those that have been identified as former polluting sites that have urgent for remediation, which is more likely to be in areas where there are fewer vulnerable and low-income populations and more vocal and high-influence populations demanding urgency to the remediation.\r\nOn the other hand, the TSDF sites (toxic storage and disposal facilities) and RMP sites (facilities that emit toxic pollutants that require RMP (risk management plans) on file with the EPA) are those that are actively operating in vulnerable populations.\r\n\r\n\r\nDemindex.Percentile_00 <- min(ejscreen.mean$mean.demindex)\r\nDemindex.Percentile_25 <- quantile(ejscreen.mean$mean.demindex, 0.25)\r\nDemindex.Percentile_50 <- quantile(ejscreen.mean$mean.demindex, 0.50)\r\nDemindex.Percentile_75 <- quantile(ejscreen.mean$mean.demindex, 0.75)\r\nDemindex.Percentile_100 <- max(ejscreen.mean$mean.demindex)\r\n\r\nRB = rbind(Demindex.Percentile_00, Demindex.Percentile_25, Demindex.Percentile_50, Demindex.Percentile_75, Demindex.Percentile_100)\r\n\r\ndimnames(RB)[[2]] = \"Value\"\r\n\r\nRB\r\n\r\n\r\n                         Value\r\nDemindex.Percentile_00  0.0000\r\nDemindex.Percentile_25  0.1778\r\nDemindex.Percentile_50  0.2176\r\nDemindex.Percentile_75  0.2652\r\nDemindex.Percentile_100 0.7778\r\n\r\n\r\n\r\nejscreen.mean$Demindex.Quartile[ejscreen.mean$mean.demindex >= Demindex.Percentile_00 & ejscreen.mean$mean.demindex <  Demindex.Percentile_25]  = \"1st Quartile\"\r\nejscreen.mean$Demindex.Quartile[ejscreen.mean$mean.demindex > Demindex.Percentile_25 & ejscreen.mean$mean.demindex <  Demindex.Percentile_50]  = \"2nd Quartile\"\r\nejscreen.mean$Demindex.Quartile[ejscreen.mean$mean.demindex > Demindex.Percentile_50 & ejscreen.mean$mean.demindex < Demindex.Percentile_75] = \"3rd Quartile\"\r\nejscreen.mean$Demindex.Quartile[ejscreen.mean$mean.demindex > Demindex.Percentile_75 & ejscreen.mean$mean.demindex <=  Demindex.Percentile_100]  = \"4th Quartile\"\r\n\r\nejscreen.mean\r\n\r\n\r\n# A tibble: 114 x 7\r\n   census.region mean.rmp mean.superfund mean.tsdf mean.demindex\r\n           <dbl>    <dbl>          <dbl>     <dbl>         <dbl>\r\n 1  170010000000    0.743         0.103     1.18           0.201\r\n 2  170040000000    0.909         0.0521    0.742          0.454\r\n 3  170060000000    0.363         0.0423    0.499          0.211\r\n 4  170070000000    1.37          0.516     1.22           0.296\r\n 5  170100000000    1.21          0.0225    0.0252         0.218\r\n 6  170120000000    0.753         0.149     0.219          0.209\r\n 7  170140000000    0.136         0.0254    0.0461         0.165\r\n 8  170160000000    0.582         0.0359    0.0568         0.179\r\n 9  170180000000    1.05          0.0130    0.0345         0.304\r\n10  170190000000    1.28          0.0752    2.23           0.342\r\n   mean.population Demindex.Quartile\r\n             <dbl> <chr>            \r\n 1           1089. 2nd Quartile     \r\n 2            726. 4th Quartile     \r\n 3           1114. 2nd Quartile     \r\n 4           1985. 4th Quartile     \r\n 5           1112. 3rd Quartile     \r\n 6            902. 2nd Quartile     \r\n 7            972. 1st Quartile     \r\n 8            809  2nd Quartile     \r\n 9            844. 4th Quartile     \r\n10           1396. 4th Quartile     \r\n# ... with 104 more rows\r\n\r\nLooking at Patterns Within Demographic Index Quartiles\r\nI created a faceted scatterplot showing the mean population of each census area on the x axis and the mean frequency of each census area for each environmental risk on the y axis. Each quartile of the demographic index rating is illustrated independently, showing a visual acknowledgement of what the statistical analysis showed.\r\n\r\n\r\n(ggplot(data = ejscreen.mean) + \r\n  geom_point(mapping = aes(x = mean.population, y = mean.tsdf)) + \r\n  facet_wrap(~ Demindex.Quartile, nrow = 2))\r\n\r\n\r\n\r\n(ggplot(data = ejscreen.mean) + \r\n  geom_point(mapping = aes(x = mean.population, y = mean.superfund)) + \r\n  facet_wrap(~ Demindex.Quartile, nrow = 2))\r\n\r\n\r\n\r\n(ggplot(data = ejscreen.mean) + \r\n  geom_point(mapping = aes(x = mean.population, y = mean.rmp)) + \r\n  facet_wrap(~ Demindex.Quartile, nrow = 2))\r\n\r\n\r\n\r\n\r\nAlternative Visualization of Density\r\nI then loaded the package “cowplot” and visualized the Demographic Index Quartiles against each of the environmental riskf actor frequencies.\r\n\r\n\r\nlibrary(cowplot)\r\nggplot(ejscreen.mean, aes(mean.tsdf, fill = Demindex.Quartile)) + \r\n  geom_density(alpha = 0.5) +\r\n  scale_y_continuous(expand = expansion(mult = c(0, 0.05))) +\r\n  theme_minimal_hgrid(12)\r\n\r\n\r\n\r\n\r\n\r\n\r\nlibrary(cowplot)\r\nggplot(ejscreen.mean, aes(mean.rmp, fill = Demindex.Quartile)) + \r\n  geom_density(alpha = 0.5) +\r\n  scale_y_continuous(expand = expansion(mult = c(0, 0.05))) +\r\n  theme_minimal_hgrid(12)\r\n\r\n\r\n\r\n\r\n\r\n\r\nlibrary(cowplot)\r\nggplot(ejscreen.mean, aes(mean.superfund, fill = Demindex.Quartile)) + \r\n  geom_density(alpha = 0.5) +\r\n  scale_y_continuous(expand = expansion(mult = c(0, 0.05))) +\r\n  theme_minimal_hgrid(12)\r\n\r\n\r\n\r\n\r\nReference\r\nUnited States Environmental Protection Agency (EPA), 2020 version, updated July 1, 2021. EJSCREEN. Retrieved: July 16, 2021 (https://gaftp.epa.gov/EJSCREEN/2020/)\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-08-09T16:51:32-04:00",
    "input_file": "becvarhw5.knit.md"
  },
  {
    "path": "posts/2021-08-03-homework-4-visualizing-data/",
    "title": "Homework 4: Visualizing Data",
    "description": "Visualizing relationships between environmental and demographic data",
    "author": [
      {
        "name": "Kristina Becvar",
        "url": "http://umass.edu/sbs/dacss"
      }
    ],
    "date": "2021-08-03",
    "categories": [],
    "contents": "\r\nReading in the data:\r\n\r\n\r\nejscreen <- read.delim(\"../../_data/EJSCREEN_2020_IL.csv\", sep = \",\", header  = TRUE)\r\n\r\n\r\n\r\nFor this assignment, I will be creating and explaining a data visualization.\r\n\r\n\r\nejscreen.tidy <- as_tibble(ejscreen)\r\n\r\n\r\n\r\nCleaning & Renaming Variables - From HW2\r\nIncluding some interim steps, the result is a new tibble named “ejscreen.clean” containing only the 6 variables I’m working with.\r\n\r\n\r\noptions(scipen = 999)\r\n(ejscreen.clean <- ejscreen.tidy %>% \r\n   rename(superfund.area = PNPL,\r\n          rmp.area = PRMP,\r\n          tsdf.area = PTSDF,\r\n          census.region = ID,\r\n          population = ACSTOTPOP, \r\n          dem.index = VULEOPCT) %>% \r\n   select(superfund.area, rmp.area, tsdf.area,  census.region, population, dem.index))\r\n\r\n\r\n# A tibble: 9,691 x 6\r\n   superfund.area rmp.area tsdf.area census.region population\r\n            <dbl>    <dbl>     <dbl>         <dbl>      <int>\r\n 1         0.0436    2.79      31.2   170313000000       1964\r\n 2         0.0306    1.28       8.24  170312000000        968\r\n 3         0.0384    1.88      28.5   170318000000       1371\r\n 4         0.0532    4.81       9.31  170313000000       2031\r\n 5         0.0305    2.63       7.90  170312000000        576\r\n 6         0.0431    2.91      40.4   170313000000       2446\r\n 7         0.0398    2.72      28.7   170312000000       1181\r\n 8         0.0326    0.872     12.8   170312000000       2223\r\n 9         0.0350    2.22      20.9   170318000000        620\r\n10         0.0309    1.17       8.44  170312000000       1026\r\n   dem.index\r\n       <dbl>\r\n 1     0.239\r\n 2     0.373\r\n 3     0.272\r\n 4     0.728\r\n 5     0.248\r\n 6     0.491\r\n 7     0.536\r\n 8     0.530\r\n 9     0.161\r\n10     0.335\r\n# ... with 9,681 more rows\r\n\r\nSummarizing Variables\r\nI summarized and found the mean of the environmental variables- The mean value for superfund.area is 0.09851763, for rmp.area is 1.196261, and for tsdf.area is 4.087846, which helps me to determine where the values begin to indicate levels of risk that are higher or lower than the mean.\r\nI then summarized and found the mean of the demographic variable “dem.index”. The mean value for this variable is 0.3469023, which helps me to determine where the values begin to indicate levels of higher-risk populations within census regions.\r\nCombining Census Region Values\r\nI checked how many occurrences there are of the census region codes in this dataset, and can see that the values of the individual data blocks contained in a given census block could potentially be combined into fewer values and summarized.\r\n\r\n\r\nejscreen.mean <- ejscreen.clean %>%\r\n  group_by(census.region) %>%\r\n  summarise(mean.rmp = mean(rmp.area), \r\n            mean.superfund = mean(superfund.area),\r\n            mean.tsdf = mean(tsdf.area),\r\n            mean.demindex = mean(dem.index),\r\n            mean.population = mean(population))\r\nejscreen.mean\r\n\r\n\r\n# A tibble: 114 x 6\r\n   census.region mean.rmp mean.superfund mean.tsdf mean.demindex\r\n           <dbl>    <dbl>          <dbl>     <dbl>         <dbl>\r\n 1  170010000000    0.743         0.103     1.18           0.201\r\n 2  170040000000    0.909         0.0521    0.742          0.454\r\n 3  170060000000    0.363         0.0423    0.499          0.211\r\n 4  170070000000    1.37          0.516     1.22           0.296\r\n 5  170100000000    1.21          0.0225    0.0252         0.218\r\n 6  170120000000    0.753         0.149     0.219          0.209\r\n 7  170140000000    0.136         0.0254    0.0461         0.165\r\n 8  170160000000    0.582         0.0359    0.0568         0.179\r\n 9  170180000000    1.05          0.0130    0.0345         0.304\r\n10  170190000000    1.28          0.0752    2.23           0.342\r\n   mean.population\r\n             <dbl>\r\n 1           1089.\r\n 2            726.\r\n 3           1114.\r\n 4           1985.\r\n 5           1112.\r\n 6            902.\r\n 7            972.\r\n 8            809 \r\n 9            844.\r\n10           1396.\r\n# ... with 104 more rows\r\n\r\nCreating a Visualization\r\nNow that I have been able to make the data more manageable, I want to visualize meaningful relationships between the demographic and environmental variables. The point density plot was an interesting one to try to visualize the relationship between population in a census region and the relative demographic index. This was the only relationship that was helped my this type of visualization.\r\n\r\n\r\nsf <- ggplot(ejscreen.mean, aes(mean.demindex, mean.population)) +\r\n   geom_point(color = \"lightgray\")\r\nsf + geom_density_2d() +\r\n   stat_density_2d(aes(fill = ..level..), geom = \"polygon\") +\r\n  scale_fill_gradientn(colors = c(\"#FFEDA0\", \"#FEB24C\", \"#F03B20\"))\r\n\r\n\r\n\r\n\r\nCreating More Visualizations\r\nWhen trying to visualize the relationships between the demographic index variable and the three environmental variables, the most effective to check for a distinct pattern.\r\n\r\n\r\nggplot(ejscreen.mean, aes(x = mean.demindex, y = mean.superfund)) + \r\n  geom_point() +\r\n  geom_smooth(color = \"#F03B20\") +\r\n  theme_bw()\r\n\r\n\r\n\r\n\r\n\r\n\r\nggplot(ejscreen.mean, aes(x = mean.demindex, y = mean.rmp)) + \r\n  geom_point() +\r\n  geom_smooth(color = \"#F03B20\") +\r\n  theme_bw()\r\n\r\n\r\n\r\n\r\n\r\n\r\nggplot(ejscreen.mean, aes(x = mean.demindex, y = mean.tsdf)) + \r\n  geom_point() +\r\n  geom_smooth(color = \"#F03B20\") +                 \r\n  theme_bw()\r\n\r\n\r\n\r\n\r\nExperimenting with Histograms\r\nIn order to visualize meaningful relationships between the demographic and environmental variables with a histogram, I wanted to create the histogram of the single variable and then overlay the mean values of each of the environmental variables with different color lines. I have been unable to accomplish this so far, though I was able to figure out how to add a line indicating the mean line of the histogram.\r\n\r\n\r\n\r\n\r\n\r\ndi + geom_vline(aes(xintercept=mean(mean.demindex)),\r\n                color=\"#F03B20\", linetype=\"dashed\", size=2)\r\n\r\n\r\n\r\n\r\nAlternative Options\r\nI considered using bar graphs or pie charts, but having two continuous variables limited what I could demonstrate using them. In order to use a bar graph, I would need to do something like making them categorial values to reflect quartiles. I don’t know if that would be as accurate of a representation as a scatterplot, which captures more points of data.\r\nI felt like the scatterplot gave me the best visualization of the relationships between the two types of continuous variables I have. Admittedly, I may be missing some knowledge on how to use the data I have effectively.\r\nReference\r\nUnited States Environmental Protection Agency (EPA), 2020 version, updated July 1, 2021. EJSCREEN. Retrieved: July 16, 2021 (https://gaftp.epa.gov/EJSCREEN/2020/)\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-03-homework-4-visualizing-data/BecvarHW4_files/figure-html5/unnamed-chunk-5-1.png",
    "last_modified": "2021-08-09T16:51:17-04:00",
    "input_file": "BecvarHW4.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-08-02-homework-3/",
    "title": "Homework 3",
    "description": "Analysis of environmental and demographic variables in the EPA Environmental Justice Screening Tool data set",
    "author": [
      {
        "name": "Kristina Becvar",
        "url": "http://umass.edu/sbs/dacss"
      }
    ],
    "date": "2021-08-02",
    "categories": [],
    "contents": "\r\nReading in the data:\r\n\r\n\r\nejscreen <- read.delim(\"../../_data/EJSCREEN_2020_IL.csv\", sep = \",\", header  = TRUE)\r\n\r\n\r\n\r\nInvestigating the variables\r\nFirst, I looked at the data using as_tibble to see more detail on the variables and make them more print friendly.\r\n\r\n\r\nejscreen.tidy <- as_tibble(ejscreen)\r\n\r\n\r\n\r\nCleaning Variables\r\nI am renaming the variables I want to examine further to make their definitions more clear.\r\nI will want to select the columns I want to work with and arrange them in a manner that allows me to do this comparison to find how many people, of what demographic, live in the high pollution areas.\r\nThe census.region variable showed up in scientific notation, and I need to change that so that it represents that actual census region code. I was able to change this by using \"options(scipen = 999).\r\nFinally, I took the population of each census region and converted it to the\r\nRenaming the New Tibble\r\nCombining the steps to cleaning the variables above, I ran all of these commands together into a new tibble named “ejscreen.clean” containing only the 6 variables I’m working with.\r\n\r\n\r\noptions(scipen = 999)\r\n(ejscreen.clean <- ejscreen.tidy %>% \r\n   rename(superfund.area = PNPL,\r\n          rmp.area = PRMP,\r\n          tsdf.area = PTSDF,\r\n          census.region = ID,\r\n          population = ACSTOTPOP, \r\n          dem.index = VULEOPCT) %>% \r\n   select(superfund.area, rmp.area, tsdf.area,  census.region, population, dem.index))\r\n\r\n\r\n# A tibble: 9,691 x 6\r\n   superfund.area rmp.area tsdf.area census.region population\r\n            <dbl>    <dbl>     <dbl>         <dbl>      <int>\r\n 1         0.0436    2.79      31.2   170313000000       1964\r\n 2         0.0306    1.28       8.24  170312000000        968\r\n 3         0.0384    1.88      28.5   170318000000       1371\r\n 4         0.0532    4.81       9.31  170313000000       2031\r\n 5         0.0305    2.63       7.90  170312000000        576\r\n 6         0.0431    2.91      40.4   170313000000       2446\r\n 7         0.0398    2.72      28.7   170312000000       1181\r\n 8         0.0326    0.872     12.8   170312000000       2223\r\n 9         0.0350    2.22      20.9   170318000000        620\r\n10         0.0309    1.17       8.44  170312000000       1026\r\n   dem.index\r\n       <dbl>\r\n 1     0.239\r\n 2     0.373\r\n 3     0.272\r\n 4     0.728\r\n 5     0.248\r\n 6     0.491\r\n 7     0.536\r\n 8     0.530\r\n 9     0.161\r\n10     0.335\r\n# ... with 9,681 more rows\r\n\r\nDescriptions of the variables\r\nThe 6 variables I am analyzing are 3 environmental variables and 3 demographic variables.\r\nThe environmental variables are “superfund.area”, “rmp.area”, and “tsdf.area”.\r\n“superfund.area” indicates the count of proposed and listed “Superfund”, or National Priorities List, sites within 5 km, divided by distance in kilometers.\r\n“rmp.area” indicates the count of facilities that are RMP (Risk Management Plan) facilities within 5 km, divided by distance in kilometers\r\n“tsdf.area” indicates the count of facilities that are TSDF (Hazardous waste Treatment, Storage and Disposal Facilities) within 5 km, divided by distance in kilometers.\r\nThe demographic variables are “census.region”, “population”, and “dem.index”.\r\n“census.region” is the geographical census block being measured\r\n“population” is the count of persons living in the correlating census region\r\n“dem.index” represents a particular census region’s % minority population + % low-income population/2.\r\nUsing “is.na” and \"complete.cases\r\nIn order to check for missing variables, I use “is.na” and make sure that all values are “FALSE”. This omitted too many rows due to print max limitations, so I used “complete.cases” to return an affirmative answer that there were no missing variables.\r\n\r\n\r\n\r\n\r\n\r\nejscreen.clean[!complete.cases(ejscreen.clean),]\r\n\r\n\r\n# A tibble: 0 x 6\r\n# ... with 6 variables: superfund.area <dbl>, rmp.area <dbl>,\r\n#   tsdf.area <dbl>, census.region <dbl>, population <int>,\r\n#   dem.index <dbl>\r\n\r\nPreliminary Data Graphing\r\nBy rendering a basic scatterplot, I can see that the data will require me to change some of these variables to categorical data so that I can analyze it more effectively.\r\n\r\n\r\nggplot(data = ejscreen.clean) +\r\n  geom_point(mapping = aes(x = census.region, y = dem.index))\r\n\r\n\r\n\r\n\r\nSummarizing Variables\r\nI summarized and found the mean of the environmental variables- The mean value for superfund.area is 0.09851763, for rmp.area is 1.196261, and for tsdf.area is 4.087846, which helps me to determine where the values begin to indicate levels of risk that are higher or lower than the mean.\r\nI then summarized and found the mean of the demographic variable “dem.index”. The mean value for this variable is 0.3469023, which helps me to determine where the values begin to indicate levels of higher-risk populations within census regions.\r\n\r\n\r\nsummarize(ejscreen.clean, tsdf.mean = mean(`tsdf.area`, na.rm = TRUE)) \r\n\r\n\r\n# A tibble: 1 x 1\r\n  tsdf.mean\r\n      <dbl>\r\n1      4.09\r\n\r\nsummarize(ejscreen.clean, rmp.mean = mean(`rmp.area`, na.rm = TRUE))\r\n\r\n\r\n# A tibble: 1 x 1\r\n  rmp.mean\r\n     <dbl>\r\n1     1.20\r\n\r\nsummarize(ejscreen.clean, superfund.mean = mean(`superfund.area`, na.rm = TRUE))\r\n\r\n\r\n# A tibble: 1 x 1\r\n  superfund.mean\r\n           <dbl>\r\n1         0.0985\r\n\r\nsummarize(ejscreen.clean, dem.index.mean = mean(`dem.index`, na.rm = TRUE))\r\n\r\n\r\n# A tibble: 1 x 1\r\n  dem.index.mean\r\n           <dbl>\r\n1          0.347\r\n\r\nCensus Region Values\r\nI checked how many occurrences there are of the census region codes in this dataset, and can see that the values of the individual data blocks contained in a given census block could potentially be combined into fewer values, but at this point I’m not sure how to do that without interfering with the rest of the data for each observation.\r\n\r\n\r\ntable(ejscreen.clean$census.region)\r\n\r\n\r\n\r\n170010000000 170040000000 170060000000 170070000000 170100000000 \r\n          61            9           15           27            6 \r\n170120000000 170140000000 170160000000 170180000000 170190000000 \r\n          37            5           18           15          150 \r\n170220000000 170231000000 170260000000 170279000000 170290000000 \r\n          37           20           10           31           51 \r\n170310000000 170311000000 170312000000 170313000000 170314000000 \r\n         197          333          360          199          155 \r\n170315000000 170316000000 170317000000 170318000000 170320000000 \r\n         156          176          295         2119            3 \r\n170339000000 170360000000 170370000000 170400000000 170420000000 \r\n          20           11           60           15           19 \r\n170438000000 170451000000 170480000000 170500000000 170520000000 \r\n         617           20            8           25           23 \r\n170540000000 170550000000 170580000000 170600000000 170620000000 \r\n          16           41           43            7           17 \r\n170630000000 170660000000 170680000000 170700000000 170720000000 \r\n          34           10           22            6            9 \r\n170730000000 170760000000 170770000000 170800000000 170811000000 \r\n          52           32           53           13           37 \r\n170830000000 170850000000 170880000000 170899000000 170910000000 \r\n          18           26           12          274           84 \r\n170939000000 170950000000 170979000000 170980000000 171000000000 \r\n          39           58          401            1          105 \r\n171019000000 171030000000 171060000000 171080000000 171090000000 \r\n          18           38           35           29           34 \r\n171119000000 171130000000 171150000000 171180000000 171194000000 \r\n         164          108           99           52          195 \r\n171220000000 171240000000 171260000000 171280000000 171290000000 \r\n          43           12           20           14           13 \r\n171310000000 171336000000 171360000000 171380000000 171400000000 \r\n          19           15           28           35           14 \r\n171420000000 171430000000 171450000000 171480000000 171500000000 \r\n          44          141           22           17           20 \r\n171520000000 171540000000 171560000000 171580000000 171600000000 \r\n           4            8            8           33           14 \r\n171610000000 171635000000 171660000000 171670000000 171700000000 \r\n         116          199           29          180            8 \r\n171720000000 171740000000 171760000000 171770000000 171790000000 \r\n           5           25            8           49           86 \r\n171820000000 171830000000 171860000000 171879000000 171900000000 \r\n          16           66           14           22           19 \r\n171920000000 171940000000 171950000000 171979000000 171980000000 \r\n          19           16           63          391            2 \r\n171990000000 172010000000 172020000000 172030000000 \r\n          56          262            1           30 \r\n\r\nReclassifying Variable Values\r\nI will mutate the values for variable dem.index to create a way to easily view patterns of environmental risks in susceptible areas as indicated by the demographic index value.\r\n\r\n\r\n(ejscreen.categorical <- ejscreen.clean %>% \r\n   mutate(dem.index = case_when(\r\n     dem.index < 0.347 ~ \"below.mean\",\r\n     dem.index > 0.347 ~ \"above.mean\",\r\n     dem.index == 0.347 ~ \"at.mean\"\r\n   )))\r\n\r\n\r\n# A tibble: 9,691 x 6\r\n   superfund.area rmp.area tsdf.area census.region population\r\n            <dbl>    <dbl>     <dbl>         <dbl>      <int>\r\n 1         0.0436    2.79      31.2   170313000000       1964\r\n 2         0.0306    1.28       8.24  170312000000        968\r\n 3         0.0384    1.88      28.5   170318000000       1371\r\n 4         0.0532    4.81       9.31  170313000000       2031\r\n 5         0.0305    2.63       7.90  170312000000        576\r\n 6         0.0431    2.91      40.4   170313000000       2446\r\n 7         0.0398    2.72      28.7   170312000000       1181\r\n 8         0.0326    0.872     12.8   170312000000       2223\r\n 9         0.0350    2.22      20.9   170318000000        620\r\n10         0.0309    1.17       8.44  170312000000       1026\r\n   dem.index \r\n   <chr>     \r\n 1 below.mean\r\n 2 above.mean\r\n 3 below.mean\r\n 4 above.mean\r\n 5 below.mean\r\n 6 above.mean\r\n 7 above.mean\r\n 8 above.mean\r\n 9 below.mean\r\n10 below.mean\r\n# ... with 9,681 more rows\r\n\r\nNew Data Graphing\r\nBy rendering new plots with the new categorical traffic, I can begin to see patterns.\r\n\r\n\r\nggplot(data = ejscreen.categorical) + \r\n  geom_smooth(mapping = aes(x = superfund.area, y = population, linetype = dem.index))\r\n\r\n\r\n\r\n\r\n\r\n\r\nggplot(data = ejscreen.categorical) + \r\n  geom_smooth(mapping = aes(x = rmp.area, y = population, linetype = dem.index))\r\n\r\n\r\n\r\n\r\n\r\n\r\nggplot(data = ejscreen.categorical) + \r\n  geom_smooth(mapping = aes(x = tsdf.area, y = population, linetype = dem.index))\r\n\r\n\r\n\r\n\r\nReference\r\nUnited States Environmental Protection Agency (EPA), 2020 version, updated July 1, 2021. EJSCREEN. Retrieved: July 16, 2021 (https://gaftp.epa.gov/EJSCREEN/2020/)\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-02-homework-3/BecvarHW3_files/figure-html5/unnamed-chunk-26-1.png",
    "last_modified": "2021-08-09T16:50:58-04:00",
    "input_file": "BecvarHW3.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  }
]
